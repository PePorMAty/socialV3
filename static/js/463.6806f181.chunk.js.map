{"version":3,"file":"static/js/463.6806f181.chunk.js","mappings":"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","sources":["webpack://socialv3/./src/pages/users/Users.module.scss?53a7","webpack://socialv3/./src/UI/paginator/Paginator.module.scss?b33e","UI/paginator/Paginator.jsx","pages/users/Users.jsx","pages/users/UsersContainer.jsx","store/selectors/usersSelector.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"Users_img__ZONtq\",\"userCard\":\"Users_userCard__TE7O3\",\"user\":\"Users_user__XLraX\",\"userInfo\":\"Users_userInfo__R0O1+\",\"miniContent\":\"Users_miniContent__+XVB-\",\"selectedPage\":\"Users_selectedPage__WIaQm\",\"defPage\":\"Users_defPage__+WUYD\"};","// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__9EWa2\",\"selectedPage\":\"Paginator_selectedPage__VyI9P\",\"currentPage\":\"Paginator_currentPage__Re-6B\",\"pageNumber\":\"Paginator_pageNumber__yoHQr\",\"btn\":\"Paginator_btn__z7EGL\"};","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\n\r\nconst Paginator = ({\r\n  pagesCount,\r\n  pages,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          className={s.btn}\r\n          onClick={() => setPortionNumber(portionNumber - 1)}\r\n        >\r\n          PREV\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter((p) => p >= leftPortionNumber && p <= rightPortionNumber)\r\n        .map((p) => {\r\n          return (\r\n            <div\r\n              className={currentPage === p ? s.selectedPage : s.pageNumber}\r\n              key={p}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </div>\r\n          );\r\n        })}\r\n      {portionCount > portionSize && (\r\n        <button\r\n          className={s.btn}\r\n          onClick={() => setPortionNumber(portionNumber + 1)}\r\n        >\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport s from \"./Users.module.scss\";\r\nimport avatar from \"../../assets/avatar.jpg\";\r\nimport Preloader from \"../../UI/preloader/Preloader\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"../../UI/paginator/Paginator\";\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.d}>\r\n      {props.isFetching ? <Preloader /> : null}\r\n      <Paginator\r\n        pagesCount={props.pagesCount}\r\n        pages={props.pages}\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.setCurrentPage}\r\n        portionSize={props.portionSize}\r\n      />\r\n      {/*  <div className=\"\">\r\n        {props.pages.map((p) => (\r\n          <span\r\n            key={p}\r\n            className={props.currentPage === p ? s.selectedPage : s.defPage}\r\n            onClick={() => props.setCurrentPage(p)}\r\n          >\r\n            {p}\r\n          </span>\r\n        ))}\r\n      </div> */}\r\n      {props.users.map((u) => (\r\n        <div key={u.id} className={s.userCard}>\r\n          <div className={s.user}>\r\n            <div>\r\n              <NavLink to={`/profile/${u.id}`}>\r\n                <img\r\n                  className={s.img}\r\n                  src={u.photos.small != null ? u.photos.small : avatar}\r\n                  alt=\"img\"\r\n                />\r\n              </NavLink>\r\n            </div>\r\n\r\n            <div className=\"\">\r\n              {u.followed ? (\r\n                <button\r\n                  className={s.btn}\r\n                  disabled={props.inProgress}\r\n                  onClick={() => props.unFollowUser(u.id)}\r\n                >\r\n                  Unfollow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className={s.btn}\r\n                  disabled={props.inProgress}\r\n                  onClick={() => props.followUser(u.id)}\r\n                >\r\n                  Follow\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className={s.userInfo}>\r\n            <div className={s.miniContent}>\r\n              <p className={s.text}>{u.name}</p>\r\n              <p className={s.text}>{u.status}</p>\r\n            </div>\r\n            <div className={s.miniContent}>\r\n              <p className={s.text}>{/* {u.location.country} */}</p>\r\n              <p className={s.text}>{/* {u.location.city} */}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n/*  if (props.users.length === 0) {\r\n    props.setUsers([\r\n      {\r\n        id: 1,\r\n        img: \"https://i.ytimg.com/vi/XGL_rWpBHzE/maxresdefault.jpg\",\r\n        followed: false,\r\n        name: \"Anton\",\r\n        status: \"Hello\",\r\n        location: { city: \"Novosibirsk\", country: \"Russia\" },\r\n      },\r\n      {\r\n        id: 2,\r\n        img: \"https://i.ytimg.com/vi/XGL_rWpBHzE/maxresdefault.jpg\",\r\n        followed: true,\r\n        name: \"Krynkul\",\r\n        status: \"Hello\",\r\n        location: { city: \"Novosibirsk\", country: \"Russia\" },\r\n      },\r\n      {\r\n        id: 3,\r\n        img: \"https://i.ytimg.com/vi/XGL_rWpBHzE/maxresdefault.jpg\",\r\n        followed: false,\r\n        name: \"Vanek\",\r\n        status: \"Hello\",\r\n        location: { city: \"Novosibirsk\", country: \"Russia\" },\r\n      },\r\n    ]);\r\n  } */\r\n","import React, { useEffect } from \"react\";\r\nimport Users from \"./Users\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchUsers,\r\n  followUser,\r\n  setCurrentPage,\r\n  unFollowUser,\r\n} from \"../../store/slices/UsersSlice\";\r\nimport {\r\n  getCurrentPage,\r\n  getInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../store/selectors/usersSelector\";\r\n\r\nconst UsersContainer = () => {\r\n  const users = useSelector((state) => getUsers(state));\r\n  const pageSize = useSelector((state) => getPageSize(state));\r\n  const totalUsersCount = useSelector((state) => getTotalUsersCount(state));\r\n  const currentPage = useSelector((state) => getCurrentPage(state));\r\n  const isFetching = useSelector((state) => getIsFetching(state));\r\n  const inProgress = useSelector((state) => getInProgress(state));\r\n  const dispatch = useDispatch();\r\n\r\n  const followDispatch = (id) => {\r\n    dispatch(followUser({ id }));\r\n  };\r\n\r\n  const unFollowDispatch = (id) => {\r\n    dispatch(unFollowUser({ id }));\r\n  };\r\n\r\n  const setCurrentPageDispatch = (currentPage) => {\r\n    dispatch(setCurrentPage({ currentPage }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsers({ currentPage, pageSize }));\r\n  }, [dispatch, currentPage, pageSize]);\r\n\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <Users\r\n      setCurrentPage={setCurrentPageDispatch}\r\n      followUser={followDispatch}\r\n      unFollowUser={unFollowDispatch}\r\n      isFetching={isFetching}\r\n      users={users}\r\n      currentPage={currentPage}\r\n      pages={pages}\r\n      pagesCount={pagesCount}\r\n      inProgress={inProgress}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UsersContainer;\r\n","/* import { createSelector } from \"@reduxjs/toolkit\";\r\nimport { useSelector } from \"react-redux\";\r\n */\r\n/* const getUsers = useSelector((state) => state.users);\r\n */\r\n/* export const getUsersSuperSelector = createSelector([getUsers], (users) => {\r\n  return users.filter((u) => true);\r\n}); */\r\n\r\n/* export const getUsersSelector = (state) => {\r\n  return getUsers(state).filter((u) => true);\r\n}; */\r\n\r\nexport const getUsers = (state) => {\r\n  return state.users.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.users.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.users.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.users.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.users.isFetching;\r\n};\r\nexport const getInProgress = (state) => {\r\n  return state.users.inProgress;\r\n};\r\n"],"names":["_ref","pagesCount","pages","currentPage","onPageChanged","_ref$portionSize","portionSize","portionCount","Math","ceil","_useState","useState","_useState2","_slicedToArray","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","_jsxs","className","s","children","_jsx","onClick","filter","p","map","e","props","isFetching","Preloader","Paginator","setCurrentPage","users","u","NavLink","to","concat","id","src","photos","small","avatar","alt","followed","disabled","inProgress","unFollowUser","followUser","name","status","useSelector","state","getUsers","pageSize","getPageSize","totalUsersCount","getTotalUsersCount","getCurrentPage","getIsFetching","getInProgress","dispatch","useDispatch","useEffect","fetchUsers","i","push","Users"],"sourceRoot":""}